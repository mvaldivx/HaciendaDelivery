<ion-content>
  <div class="fondo">
    <div class="closebtn">
      <ion-buttons>
        <ion-button slot="icon-only" (click)="close()"><ion-icon name="close"></ion-icon></ion-button>
      </ion-buttons>
    </div>
    <div class="flip" [ngClass]="{'flipped':(nuevoAnuncio || detalleNegocio)}">
      <div class="contenido" [@fadein]="'in'" id="DivPrincipal" >
        <ion-fab vertical="bottom" horizontal="start" slot="fixed" class="btnNewAd" >
          <ion-fab-button (click)="newAd()" >
            <ion-icon name="add"></ion-icon>
          </ion-fab-button>
        </ion-fab>
        <div *ngIf= "!cargando && misNegocios && misNegocios.length <= 0" class="carritoVacio">
          <div class="imagen"><img src="assets/images/anuncios.png"></div><br/>
          <span>AÃºn no se han registrado anuncios</span>
        </div>
        <ion-list mode="md" [ngClass]="{'cargando':(cargando)}">
          <ion-item mode="md"  *ngFor="let neg of misNegocios" (click)="getProductos(neg.IdNegocio)">
            <div class="imagenLogo" >
              <ion-img *ngIf="!neg.imgError" (ionImgDidLoad)="neg.imgError = false"
            (ionError)="neg.imgError = true" [src]="rutaImagenesNegocios + neg.IdNegocio + '.jpg'"></ion-img>
            <ion-img *ngIf="neg.imgError" [src]="rutaNoImage"></ion-img>
            </div>
            <div class="descripcion">
              <div class="direccion"><span>{{neg.Negocio}}</span></div>
              <div class="Estatus"><span>Estatus: </span></div>
              <ion-toggle [(ngModel)]="neg.Abierto" (ionChange)="changeStatusNegocio(neg.IdNegocio,neg.Abierto, $event)"></ion-toggle>
            </div>
            <div class="btnEdit">
              <ion-buttons mode="md" >
                <ion-button mode="md" (click)="ModificaNegocio(neg.IdNegocio)" slot="icon-only" size="large" >
                  <ion-icon name="build"></ion-icon>
                </ion-button>
              </ion-buttons>
            </div>
          </ion-item>
          
        </ion-list>
      </div>
      <!-- Nuevo Anuncio -->
      <div class="NuevoAnuncio" *ngIf="visibleNuevoAnuncio" >
        <ion-buttons>
          <ion-button (click)="setNuevoAnuncioState(false)">
            <ion-icon name="arrow-dropleft"></ion-icon>
          </ion-button>
        </ion-buttons>
        <div class="swiper" (swipe)="NuevoAnuncioSwipe($event)">
          <app-nuevo-anuncio [EditAdSelected]="EditAdSelected" [misNegocios]="misNegocios" [Usuario]="usuario"></app-nuevo-anuncio>
        </div>
        
      </div>

      <!-- Detalle Negocios -->
      <div class="DetalleNegocios" *ngIf="visibledetalleNegocio" >
        <ion-buttons>
          <ion-button (click)="setdetalleNegocioState(false)">
            <ion-icon name="arrow-dropleft"></ion-icon>
          </ion-button>
        </ion-buttons>
        <div class="swiper" (swipe)="NuevoAnuncioSwipe($event)">
          <app-detalle-negocio [IdNegocio]="selectedIdNegocio"></app-detalle-negocio>
        </div>
        
      </div>
    </div>
  </div>
  

</ion-content>